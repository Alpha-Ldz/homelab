<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STF Position Measurement Tool - Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .section {
            background: white;
            margin: 30px 0;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        h2 {
            color: #4CAF50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }

        h3 {
            color: #666;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .method-card {
            background: #f9f9f9;
            padding: 20px;
            margin: 15px 0;
            border-radius: 6px;
            border-left: 4px solid #4CAF50;
        }

        .method-card h3 {
            color: #4CAF50;
            margin-top: 0;
        }

        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 10px;
        }

        .badge-recommended {
            background: #4CAF50;
            color: white;
        }

        .badge-auto {
            background: #2196F3;
            color: white;
        }

        .badge-temp {
            background: #FF9800;
            color: white;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 15px 0;
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        .demo-area {
            border: 2px dashed #4CAF50;
            padding: 40px;
            text-align: center;
            margin: 20px 0;
            background: #fafafa;
            border-radius: 8px;
        }

        .demo-device {
            width: 300px;
            height: 600px;
            margin: 0 auto;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .demo-screen {
            position: absolute;
            top: 50px;
            left: 20px;
            right: 20px;
            bottom: 50px;
            background: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            color: #666;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-item {
            padding: 20px;
            background: #f9f9f9;
            border-radius: 6px;
            text-align: center;
        }

        .feature-item .icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: #4CAF50;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: bold;
            transition: background 0.3s;
            margin: 5px;
        }

        .btn:hover {
            background: #45a049;
        }

        .btn-secondary {
            background: #2196F3;
        }

        .btn-secondary:hover {
            background: #1976D2;
        }

        .alert {
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }

        .alert-info {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            color: #1565C0;
        }

        .alert-success {
            background: #e8f5e9;
            border-left: 4px solid #4CAF50;
            color: #2E7D32;
        }

        .steps {
            counter-reset: step-counter;
            list-style: none;
            padding: 0;
        }

        .steps li {
            counter-increment: step-counter;
            padding: 15px;
            margin: 10px 0;
            background: #f9f9f9;
            border-radius: 6px;
            position: relative;
            padding-left: 60px;
        }

        .steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: #4CAF50;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        footer {
            text-align: center;
            padding: 30px;
            color: #666;
            margin-top: 40px;
        }

        .bookmarklet-box {
            background: #fff9c4;
            border: 2px solid #FBC02D;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .bookmarklet-code {
            background: white;
            padding: 10px;
            border-radius: 4px;
            word-break: break-all;
            font-size: 0.8em;
            max-height: 100px;
            overflow-y: auto;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <header>
        <h1>üìè STF Position Measurement Tool</h1>
        <p>Outil de mesure de position pour le d√©veloppement avec STF</p>
    </header>

    <div class="container">
        <section class="section">
            <h2>üéØ Fonctionnalit√©s</h2>
            <div class="feature-grid">
                <div class="feature-item">
                    <div class="icon">üìç</div>
                    <h3>Mode Clic</h3>
                    <p>Obtenez les coordonn√©es exactes d'un point en pixels et pourcentage</p>
                </div>
                <div class="feature-item">
                    <div class="icon">üìê</div>
                    <h3>Mode S√©lection</h3>
                    <p>Tracez une zone pour obtenir position et dimensions</p>
                </div>
                <div class="feature-item">
                    <div class="icon">üìã</div>
                    <h3>Copie Automatique</h3>
                    <p>Les coordonn√©es sont automatiquement copi√©es dans le presse-papier</p>
                </div>
                <div class="feature-item">
                    <div class="icon">üé®</div>
                    <h3>Interface Visuelle</h3>
                    <p>Overlay non-intrusif avec affichage en temps r√©el</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>üì¶ M√©thodes d'installation</h2>

            <div class="method-card">
                <h3>1. Bookmarklet <span class="badge badge-recommended">Recommand√©</span></h3>
                <p>La m√©thode la plus simple pour un usage ponctuel.</p>
                <ol class="steps">
                    <li>Cr√©ez un nouveau favori dans votre navigateur</li>
                    <li>Nommez-le "STF Position Tool"</li>
                    <li>Dans le champ URL, collez le contenu du fichier <code>bookmarklet.txt</code></li>
                    <li>Sauvegardez le favori</li>
                </ol>
                <div class="alert alert-info">
                    <strong>üí° Astuce :</strong> Sur la plupart des navigateurs, vous pouvez faire Ctrl+D pour cr√©er un favori, puis modifier son URL.
                </div>
                <a href="#" class="btn" onclick="alert('Copiez le contenu de bookmarklet.txt dans votre favori'); return false;">Voir les instructions</a>
            </div>

            <div class="method-card">
                <h3>2. Tampermonkey / Greasemonkey <span class="badge badge-auto">Auto</span></h3>
                <p>Injection automatique √† chaque visite sur STF.</p>
                <ol class="steps">
                    <li>Installez <a href="https://www.tampermonkey.net/" target="_blank">Tampermonkey</a> ou <a href="https://www.greasespot.net/" target="_blank">Greasemonkey</a></li>
                    <li>Cliquez sur l'ic√¥ne de l'extension ‚Üí "Create a new script"</li>
                    <li>Copiez-collez le contenu de <code>userscript.js</code></li>
                    <li>Modifiez la ligne <code>@match</code> pour votre URL STF</li>
                    <li>Sauvegardez (Ctrl+S)</li>
                </ol>
                <div class="alert alert-success">
                    <strong>‚úÖ Avantage :</strong> Le script s'active automatiquement √† chaque fois que vous ouvrez STF !
                </div>
            </div>

            <div class="method-card">
                <h3>3. Console du navigateur <span class="badge badge-temp">Temporaire</span></h3>
                <p>Pour un test rapide sans installation.</p>
                <ol class="steps">
                    <li>Ouvrez STF dans votre navigateur</li>
                    <li>Appuyez sur <code>F12</code> pour ouvrir les DevTools</li>
                    <li>Allez dans l'onglet "Console"</li>
                    <li>Copiez-collez le contenu de <code>position-measurement.js</code></li>
                    <li>Appuyez sur Entr√©e</li>
                </ol>
            </div>
        </section>

        <section class="section">
            <h2>üöÄ Utilisation</h2>

            <div class="demo-area">
                <p style="margin-bottom: 20px;">Zone de d√©monstration (exemple d'√©cran de device)</p>
                <div class="demo-device">
                    <div class="demo-screen">
                        √âcran du device
                    </div>
                </div>
            </div>

            <ol class="steps">
                <li>
                    <strong>Activer l'outil</strong><br>
                    Cliquez sur le bouton üìè (il devient rouge ‚úñÔ∏è quand actif)
                </li>
                <li>
                    <strong>Mode Clic</strong><br>
                    Cliquez sur un point de l'√©cran du device pour obtenir ses coordonn√©es<br>
                    Affiche : <code>x=123, y=456 (12.30%, 45.60%)</code>
                </li>
                <li>
                    <strong>Mode S√©lection</strong><br>
                    Cliquez et maintenez, puis tracez une zone en d√©pla√ßant la souris<br>
                    Affiche : <code>x=100, y=200, w=300, h=400 (10%, 20%, 30%, 40%)</code>
                </li>
                <li>
                    <strong>Copie automatique</strong><br>
                    Les coordonn√©es sont automatiquement copi√©es dans votre presse-papier !
                </li>
            </ol>

            <div class="alert alert-info">
                <strong>üìä Format d'affichage :</strong>
                <pre><code>üìç Position
X: 123px (12.30%)
Y: 456px (45.60%)

Device: 1000x1000px</code></pre>
            </div>
        </section>

        <section class="section">
            <h2>üíª Exemples d'int√©gration</h2>

            <h3>Appium / WebDriverIO</h3>
            <pre><code>// Utilisez les pourcentages pour plus de portabilit√©
const coords = { x: 12.3, y: 45.6 }; // Obtenu avec l'outil

const { width, height } = await driver.getWindowSize();
await driver.touchAction({
    action: 'tap',
    x: Math.round(width * coords.x / 100),
    y: Math.round(height * coords.y / 100)
});</code></pre>

            <h3>ADB Shell</h3>
            <pre><code># Pixels directs
adb shell input tap 123 456

# Ou avec calcul dynamique selon la r√©solution
SCREEN_WIDTH=$(adb shell wm size | cut -d' ' -f3 | cut -d'x' -f1)
X=$((SCREEN_WIDTH * 1230 / 10000))  # 12.30%
adb shell input tap $X $Y</code></pre>

            <h3>STF API</h3>
            <pre><code>// Coordonn√©es normalis√©es (0-1)
const position = { x: 0.123, y: 0.456 };

await fetch(`http://stf.local/api/v1/user/devices/${serial}/input`, {
    method: 'POST',
    body: JSON.stringify({
        type: 'touchDown',
        x: position.x,
        y: position.y
    })
});</code></pre>
        </section>

        <section class="section">
            <h2>‚öôÔ∏è Configuration</h2>
            <p>Vous pouvez personnaliser le script en modifiant l'objet <code>CONFIG</code> :</p>
            <pre><code>const CONFIG = {
    buttonPosition: 'bottom-right',  // Position du bouton
    copyToClipboard: true,            // Copie automatique
    showTooltip: true,                // Afficher l'info-bulle
    colors: {
        primary: '#4CAF50',           // Couleur du bouton
        overlay: 'rgba(76, 175, 80, 0.3)',
        border: '#4CAF50'
    }
};</code></pre>

            <h3>Options de position :</h3>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><code>'top-left'</code> - En haut √† gauche</li>
                <li><code>'top-right'</code> - En haut √† droite</li>
                <li><code>'bottom-left'</code> - En bas √† gauche</li>
                <li><code>'bottom-right'</code> - En bas √† droite (d√©faut)</li>
            </ul>
        </section>

        <section class="section">
            <h2>üîß D√©pannage</h2>

            <h3>‚ùå Le bouton n'appara√Æt pas</h3>
            <ul style="margin-left: 20px;">
                <li>V√©rifiez la console (F12) pour les erreurs</li>
                <li>Essayez de recharger la page</li>
                <li>V√©rifiez que vous √™tes bien sur une page STF</li>
            </ul>

            <h3>‚ùå L'overlay ne se place pas correctement</h3>
            <ul style="margin-left: 20px;">
                <li>Le script d√©tecte automatiquement l'√©cran du device</li>
                <li>Si √ßa √©choue, inspectez l'√©l√©ment (F12) et modifiez <code>findDeviceScreen()</code></li>
            </ul>

            <h3>‚ùå Les mesures sont incorrectes</h3>
            <ul style="margin-left: 20px;">
                <li>Assurez-vous que le zoom du navigateur est √† 100%</li>
                <li>V√©rifiez qu'il n'y a pas de redimensionnement dynamique</li>
            </ul>
        </section>

        <section class="section">
            <h2>üìÅ Fichiers disponibles</h2>
            <ul style="margin-left: 20px;">
                <li><code>position-measurement.js</code> - Script complet et comment√©</li>
                <li><code>bookmarklet.txt</code> - Version minifi√©e pour favori</li>
                <li><code>userscript.js</code> - Script pour Tampermonkey/Greasemonkey</li>
                <li><code>README.md</code> - Documentation compl√®te</li>
                <li><code>demo.html</code> - Cette page de d√©monstration</li>
            </ul>
        </section>

        <section class="section">
            <h2>üéâ Pr√™t √† commencer ?</h2>
            <div style="text-align: center; padding: 20px;">
                <a href="../README.md" class="btn">üìñ Lire la documentation compl√®te</a>
                <a href="position-measurement.js" class="btn btn-secondary" download>‚¨áÔ∏è T√©l√©charger le script</a>
            </div>
        </section>
    </div>

    <footer>
        <p>STF Position Measurement Tool - Outil de d√©veloppement pour STF</p>
        <p>D√©velopp√© pour faciliter l'automatisation de tests Android</p>
    </footer>

    <script>
        // Charger le script de mesure dans cette page de d√©mo
        console.log('%cüìè STF Position Measurement Tool Demo', 'font-size: 20px; font-weight: bold; color: #4CAF50;');
        console.log('Cette page de d√©monstration montre comment utiliser l\'outil.');
        console.log('Pour l\'utiliser sur STF, suivez les instructions ci-dessus.');
    </script>
</body>
</html>
